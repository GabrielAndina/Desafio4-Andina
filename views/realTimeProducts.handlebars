<h1>Lista de Productos de Rugby (en Tiempo Real)</h1>
<ul id="productList">
  {{#each products}}
    <li>{{this.title}} - {{this.price}} USD</li>
  {{/each}}
</ul>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();

  socket.on('productAdded', (product) => {
    const productList = document.getElementById('productList');
    const newProduct = document.createElement('li');
    newProduct.textContent = `${product.title} - ${product.price} USD`;
    productList.appendChild(newProduct);
  });

  socket.on('productDeleted', (productId) => {
    const productList = document.getElementById('productList');
    const deletedProduct = productList.querySelector(`[data-id="${productId}"]`);
    if (deletedProduct) {
      deletedProduct.remove();
    }
  });
</script>
